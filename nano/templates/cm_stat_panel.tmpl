<!--
Title: Player statistics viewing panel, pulls data from statistic entities from the game.
Used in: /code/datums/statistics/entities/player_entity.dm
 -->
<div class="item">
    {{if data.round}}
        {{:helper.link('Global', 'home', {'menu' : 0, 'subMenu' : 0, 'dataMenu': 0}, data.menu == 0 ? 'selected' : null)}}
    {{/if}}
    {{:helper.link('Personal', 'person', {'menu' : 1, 'subMenu' : 0, 'dataMenu': 0}, data.menu == 1 ? 'selected' : null)}}
</div>
<div class="item">
    {{if data.menu == 0}}
        {{:helper.link('General', null, {'subMenu' : 0, 'dataMenu': 0}, data.subMenu == 0 ? 'selected' : null)}}
        {{:helper.link('Participants', null, {'subMenu' : 1, 'dataMenu': 0}, data.subMenu == 1 ? 'selected' : null)}}
        {{:helper.link('Deaths', null, {'subMenu' : 2, 'dataMenu': 0}, data.subMenu == 2 ? 'selected' : null)}}
    {{else data.menu == 1}}
        {{if data.human}}
            {{:helper.link('Human', null, {'subMenu' : 0, 'dataMenu' : 0}, data.subMenu == 0 ? 'selected' : null)}}
        {{/if}}
        {{if data.xeno}}
            {{:helper.link('Xeno', null, {'subMenu' : 1, 'dataMenu' : 0}, data.subMenu == 1 ? 'selected' : null)}}
        {{/if}}
    {{/if}}
</div>
{{if data.menu == 1 && data.subMenu != 2}}
    <div class="item">
        {{:helper.link('General', null, {'dataMenu' : 0}, data.dataMenu == 0 ? 'selected' : null)}}
        {{:helper.link('Deaths', null, {'dataMenu' : 1}, data.dataMenu == 1 ? 'selected' : null)}}
        {{if data.subMenu == 0}}
            {{:helper.link('Weapons', null, {'dataMenu' : 2}, data.dataMenu == 2 ? 'selected' : null)}}
            {{:helper.link('Roles', null, {'dataMenu' : 3}, data.dataMenu == 3 ? 'selected' : null)}}
            {{:helper.link('Medals', null, {'dataMenu' : 4}, data.dataMenu == 4 ? 'selected' : null)}}
        {{else data.subMenu == 1}}
            {{:helper.link('Castes', null, {'dataMenu' : 2}, data.dataMenu == 2 ? 'selected' : null)}}
        {{/if}}
    </div>
{{/if}}
<div class="itemLabelClearBoth">
    <b>Updated {{:data.current_time}}</b>
</div>
<div class="item">
    {{if data.menu == 0}}
        {{if data.round}}
            {{if data.subMenu == 0}}
                <div class="itemLabelClearBoth">
                    <b>{{:data.round.name}}</b>
                </div>
                <div class="itemLabelClear">
                    Map:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.map_name}}
                </div>
                <div class="itemLabelClear">
                    Gamemode:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.game_mode}}
                </div>
                {{if data.round.round_result}}
                    <div class="itemLabelClear">
                        Result:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.round_result}}
                    </div>
                {{/if}}
                <div class="itemLabelClear">
                    Round Start:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.real_time_start}}
                </div>
                {{if data.round.real_time_end}}
                    <div class="itemLabelClear">
                        Round End:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.real_time_end}}
                    </div>
                {{/if}}
                {{if data.round.round_length}}
                    <div class="itemLabelClear">
                        Round Length:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.round_length}}
                    </div>
                {{/if}}
                {{if data.round.round_hijack_time}}
                    <div class="itemLabelClear">
                        Hijack Time:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.round_hijack_time}}
                    </div>
                {{/if}}
                {{if data.round.end_round_player_population}}
                    <div class="itemLabelClear">
                        Final Population:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.end_round_player_population}}
                    </div>
                {{/if}}
                <div class="itemLabelClear">
                    DEFCON Level:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.defcon_level}}
                </div>
                {{if data.round.total_objective_points}}
                    <div class="itemLabelClear">
                        Objective Points:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.objective_points}}
                    </div>
                    <div class="itemLabelClear">
                        Total Objective Points:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.round.total_objective_points}}
                    </div>
                {{/if}}
                <div class="itemLabelClear">
                    Total Shots Fired:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_projectiles_fired}}
                </div>
                <div class="itemLabelClear">
                    Total Shots Hit:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_projectiles_hit}}
                </div>
                <div class="itemLabelClear">
                    Total Shots Hit (Human):
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_projectiles_hit_human}}
                </div>
                <div class="itemLabelClear">
                    Total Shots Hit (Xeno):
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_projectiles_hit_xeno}}
                </div>
                <div class="itemLabelClear">
                    Total FF Instances:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_friendly_fire_instances}}
                </div>
                <div class="itemLabelClear">
                    Total Friendly Fire Kills:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_friendly_fire_kills}}
                </div>
                <div class="itemLabelClear">
                    Total Slashes:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_slashes}}
                </div>
                <div class="itemLabelClear">
                    Total Facehuggers Applied:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_huggers_applied}}
                </div>
                <div class="itemLabelClear">
                    Total Larva Bursts:
                </div>
                <div class="itemContentSmallRight">
                    {{:data.round.total_larva_burst}}
                </div>
            {{else data.subMenu == 1}}
                <div class="itemLabelClearBoth">
                    Total Participants:
                </div>
                <fieldset class="fieldContainerSpaced">
                    {{props data.round.participants}}
                        <div class="itemLabelClear">
                            {{:value.name}}:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:value.value}}
                        </div>
                    {{/props}}
                </fieldset>
                <div class="itemLabelClearBoth">
                    Total Deaths:
                </div>
                <fieldset class="fieldContainerSpaced">
                    {{props data.round.total_deaths}}
                        <div class="itemLabelClear">
                            {{:value.name}}:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:value.value}}
                        </div>
                    {{/props}}
                </fieldset>
                {{if data.round.round_hijack_time}}
                    <div class="itemLabelClearBoth">
                        Hijack Participants:
                    </div>
                    <fieldset class="fieldContainerSpaced">
                        {{props data.round.hijack_participants}}
                            <div class="itemLabelClear">
                                {{:value.name}}:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:value.value}}
                            </div>
                        {{/props}}
                    </fieldset>
                {{/if}}
                {{if data.round.real_time_end}}
                    <div class="itemLabelClearBoth">
                        Final Participants:
                    </div>
                    <div class="itemContentSmallRight">
                        <fieldset class="fieldContainerSpaced">
                            {{props data.round.final_participants}}
                                <div class="itemLabelClear">
                                    {{:value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:value.value}}
                                </div>
                            {{/props}}
                        </fieldset>
                    </div>
                {{/if}}
            {{else data.subMenu == 2}}
                {{props data.round.death_stats_list :death_value:death_index}}
                    <fieldset class="fieldContainerSpaced">
                        <div class="itemLabelClearBoth">
                            <b>{{:death_value.mob_name}}</b>
                        </div>
                        {{if death_value.job_name}}
                            <div class="itemLabelClear">
                                Role:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.job_name}}
                            </div>
                        {{/if}}
                        <div class="itemLabelClear">
                            Area:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:death_value.area_name}}
                        </div>
                        <div class="itemLabelClear">
                            Cause:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:death_value.cause_name}}
                        </div>
                        <div class="itemLabelClear">
                            Time of Death:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:death_value.time_of_death}}
                        </div>
                        <div class="itemLabelClear">
                            Lifespan:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:death_value.total_time_alive}}
                        </div>
                        <div class="itemLabelClear">
                            Damage Taken:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:death_value.total_damage_taken}}
                        </div>
                        <div class="itemLabelClear">
                            Location:
                        </div>
                        <div class="itemContentSmallRight">
                            ({{:death_value.x}}, {{:death_value.y}}, {{:death_value.z}})
                        </div>
                    </fieldset>
                {{/props}}
            {{/if}}
        {{/if}}
    {{else data.menu == 1}}
        {{if data.subMenu == 0}}
            {{if data.human}}
                {{if data.dataMenu == 0}}
                    <div class="itemLabelClear">
                        Total Kills:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.human.total_kills}}
                    </div>
                    {{props data.human.niche_stats :niche_value:niche_index}}
                        <div class="itemLabelClear">
                            {{:niche_value.name}}:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:niche_value.value}}
                        </div>
                    {{/props}}
                    {{if data.human.top_weapon}}
                        <div class="itemLabelClearBoth">
                            Top Weapon:
                        </div>
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:data.human.top_weapon.name}}</b>
                            </div>
                            {{if data.human.top_weapon.total_kills}}
                                <div class="itemLabelClear">
                                    Total Kills:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:data.human.top_weapon.total_kills}}
                                </div>
                            {{/if}}
                            {{props data.human.top_weapon.niche_stats :niche_value:niche_index}}
                                <div class="itemLabelClear">
                                    {{:niche_value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:niche_value.value}}
                                </div>
                            {{/props}}
                        </fieldset>
                    {{/if}}
                    {{if data.human.nemesis}}
                        <div class="itemLabelClearBoth">
                            Nemesis:
                        </div>
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:data.human.nemesis.name}}</b>
                            </div>
                            <div class="itemLabelClear">
                                Deaths:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:data.human.nemesis.value}}
                            </div>
                        </fieldset>
                    {{/if}}
                {{else data.dataMenu == 1}}
                    {{props data.human.death_list :death_value:death_index}}
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:death_value.mob_name}}</b>
                            </div>
                            {{if death_value.job_name}}
                                <div class="itemLabelClear">
                                    Role:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:death_value.job_name}}
                                </div>
                            {{/if}}
                            <div class="itemLabelClear">
                                Area:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.area_name}}
                            </div>
                            <div class="itemLabelClear">
                                Cause:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.cause_name}}
                            </div>
                            <div class="itemLabelClear">
                                Time of Death:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.time_of_death}}
                            </div>
                            <div class="itemLabelClear">
                                Lifespan:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_time_alive}}
                            </div>
                            <div class="itemLabelClear">
                                Damage Taken:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_damage_taken}}
                            </div>
                            <div class="itemLabelClear">
                                Location:
                            </div>
                            <div class="itemContentSmallRight">
                                ({{:death_value.x}}, {{:death_value.y}}, {{:death_value.z}})
                            </div>
                            <div class="itemLabelClear">
                                Total Kills:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_kills}}
                            </div>
							<hr>
							<div class="itemLabelClearBoth">
								<b>Total Damage:</b>
							</div>
							{{props death_value.total_damage :damage_value:damage_index}}
								<div class="itemLabelClear">
									{{:damage_value.name}}:
								</div>
								<div class="itemContentSmallRight">
									{{:damage_value.value}}
								</div>
							{{/props}}
                        </fieldset>
                    {{/props}}
                {{else data.dataMenu == 2}}
                    {{props data.human.weapon_stats_list}}
                        <div class="item">
                            <fieldset class="fieldContainerSpaced">
                                <div class="itemLabelClearBoth">
                                    <b>{{:value.name}}</b>
                                </div>
                                {{if value.total_kills}}
                                    <div class="itemLabelClear">
                                        Total Kills:
                                    </div>
                                    <div class="itemContentSmallRight">
                                        {{:value.total_kills}}
                                    </div>
                                {{/if}}
                                {{props value.niche_stats :niche_value:niche_index}}
                                    <div class="itemLabelClear">
                                        {{:niche_value.name}}:
                                    </div>
                                    <div class="itemContentSmallRight">
                                        {{:niche_value.value}}
                                    </div>
                                {{/props}}
                                {{if data.human.death_list}}
									<hr>
                                    <div class="itemLabelClearBoth">
                                        <b>Kills List:</b>
                                    </div>
				                    {{props data.human.list_killed :death_value:death_index}}
				                        <fieldset class="fieldContainerSpaced">
				                            <div class="itemLabelClearBoth">
				                                <b>{{:death_value.mob_name}}</b>
				                            </div>
				                            {{if death_value.job_name}}
				                                <div class="itemLabelClear">
				                                    Role:
				                                </div>
				                                <div class="itemContentSmallRight">
				                                    {{:death_value.job_name}}
				                                </div>
				                            {{/if}}
				                            <div class="itemLabelClear">
				                                Area:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                {{:death_value.area_name}}
				                            </div>
				                            <div class="itemLabelClear">
				                                Cause:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                {{:death_value.cause_name}}
				                            </div>
				                            <div class="itemLabelClear">
				                                Time of Death:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                {{:death_value.time_of_death}}
				                            </div>
				                            <div class="itemLabelClear">
				                                Lifespan:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                {{:death_value.total_time_alive}}
				                            </div>
				                            <div class="itemLabelClear">
				                                Location:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                ({{:death_value.x}}, {{:death_value.y}}, {{:death_value.z}})
				                            </div>
				                            <div class="itemLabelClear">
				                                Total Kills:
				                            </div>
				                            <div class="itemContentSmallRight">
				                                {{:death_value.total_kills}}
				                            </div>
											<hr>
					                        <div class="itemLabelClear">
					                            Damage Taken:
					                        </div>
					                        <div class="itemContentSmallRight">
					                            {{:death_value.total_damage_taken}}
					                        </div>
											<div class="itemLabelClearBoth">
												<b>Total Damage:</b>
											</div>
											{{props death_value.total_damage :damage_value:damage_index}}
												<div class="itemLabelClear">
													{{:damage_value.name}}:
												</div>
												<div class="itemContentSmallRight">
													{{:damage_value.value}}
												</div>
											{{/props}}
				                        </fieldset>
				                    {{/props}}
                                {{/if}}
                            </fieldset>
                        </div>
                    {{/props}}
                {{else data.dataMenu == 3}}
                    {{props data.human.job_stats_list :job_value:job_index}}
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:job_value.name}}</b>
                            </div>
                            <div class="itemLabelClear">
                                Total Kills:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:job_value.total_kills}}
                            </div>
                            {{props job_value.niche_stats :niche_value:niche_index}}
                                <div class="itemLabelClear">
                                    {{:niche_value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:niche_value.value}}
                                </div>
                            {{/props}}
							<hr>
                            {{if job_value.nemesis}}
                                <div class="itemLabelClearBoth">
                                    Nemesis:
                                </div>
                                <fieldset class="fieldContainerSpaced">
                                    <div class="itemLabelClearBoth">
                                        <b>{{:job_value.nemesis.name}}</b>
                                    </div>
                                    <div class="itemLabelClear">
                                        Deaths:
                                    </div>
                                    <div class="itemContentSmallRight">
                                        {{:job_value.nemesis.value}}
                                    </div>
                                </fieldset>
                            {{/if}}
                        </fieldset>
                    {{/props}}
                {{else data.dataMenu == 4}}
                    {{props data.human.medal_list :medal_value:medal_index}}
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:medal_value.medal_type}}</b>
                            </div>
                            <div class="itemLabelClearBoth">
                                <b>{{:medal_value.recipient}}</b>
                            </div>
                            <div class="itemLabelClearBoth">
                                {{:medal_value.recipient_job}}
                            </div>
							<hr>
                            <div class="itemContent">
                                {{:medal_value.citation}}
                            </div>
                        </fieldset>
                    {{/props}}
                {{/if}}
            {{/if}}
        {{else data.subMenu == 1}}
            {{if data.xeno}}
                {{if data.dataMenu == 0}}
                    <div class="itemLabelClear">
                        Total Kills:
                    </div>
                    <div class="itemContentSmallRight">
                        {{:data.xeno.total_kills}}
                    </div>
                    {{props data.xeno.niche_stats :niche_value:niche_index}}
                        <div class="itemLabelClear">
                            {{:niche_value.name}}:
                        </div>
                        <div class="itemContentSmallRight">
                            {{:niche_value.value}}
                        </div>
                    {{/props}}
                    {{if data.xeno.top_caste}}
                        <div class="itemLabelClearBoth">
                            Top Caste:
                        </div>
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:data.xeno.top_caste.name}}</b>
                            </div>
                            <div class="itemLabelClear">
                                Total Kills:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:data.xeno.top_caste.total_kills}}
                            </div>
                            {{props data.xeno.top_caste.niche_stats_top_caste :niche_value:niche_index}}
                                <div class="itemLabelClear">
                                    {{:niche_value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:niche_value.value}}
                                </div>
                            {{/props}}
                        </fieldset>
                    {{/if}}
                    {{if data.xeno.nemesis}}
                        <div class="itemLabelClearBoth">
                            Nemesis:
                        </div>
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:data.xeno.nemesis.name}}</b>
                            </div>
                            <div class="itemLabelClear">
                                Deaths:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:data.xeno.nemesis.value}}
                            </div>
                        </fieldset>
                    {{/if}}
                {{else data.dataMenu == 1}}
                    {{props data.xeno.death_list :death_value:death_index}}
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:death_value.mob_name}}</b>
                            </div>
                            {{if death_value.job_name}}
                                <div class="itemLabelClear">
                                    Caste:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:death_value.job_name}}
                                </div>
                            {{/if}}
                            <div class="itemLabelClear">
                                Area:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.area_name}}
                            </div>
                            <div class="itemLabelClear">
                                Cause:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.cause_name}}
                            </div>
                            <div class="itemLabelClear">
                                Time of Death:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.time_of_death}}
                            </div>
                            <div class="itemLabelClear">
                                Lifespan:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_time_alive}}
                            </div>
                            <div class="itemLabelClear">
                                Damage Taken:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_damage_taken}}
                            </div>
                            <div class="itemLabelClear">
                                Location:
                            </div>
                            <div class="itemContentSmallRight">
                                ({{:death_value.x}}, {{:death_value.y}}, {{:death_value.z}})
                            </div>
                            <div class="itemLabelClear">
                                Total Kills:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:death_value.total_kills}}
                            </div>
							<hr>
							<div class="itemLabelClearBoth">
								<b>Total Damage:</b>
							</div>
							{{props death_value.total_damage :damage_value:damage_index}}
								<div class="itemLabelClear">
									{{:damage_value.name}}:
								</div>
								<div class="itemContentSmallRight">
									{{:damage_value.value}}
								</div>
							{{/props}}
                        </fieldset>
                    {{/props}}
                {{else data.dataMenu == 2}}
                    {{props data.xeno.caste_stats_list :caste_value:caste_index}}
                        <fieldset class="fieldContainerSpaced">
                            <div class="itemLabelClearBoth">
                                <b>{{:caste_value.name}}<b>
                            </div>
                            <div class="itemLabelClear">
                                Total Kills:
                            </div>
                            <div class="itemContentSmallRight">
                                {{:caste_value.total_kills}}
                            </div>
                            {{props caste_value.niche_stats :niche_value:niche_index}}
                                <div class="itemLabelClear">
                                    {{:niche_value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:niche_value.value}}
                                </div>
                            {{/props}}
							<hr>
                            <div class="itemLabelClearBoth">
                                <b>Abilities Used:</b>
                            </div>
                            {{props caste_value.abilities_used :ability_value:ability_index}}
                                <div class="itemLabelClear">
                                    {{:ability_value.name}}:
                                </div>
                                <div class="itemContentSmallRight">
                                    {{:ability_value.value}}
                                </div>
                            {{/props}}
                            {{if caste_value.nemesis}}
                                <div class="itemLabelClearBoth">
                                    Nemesis:
                                </div>
                                <fieldset class="fieldContainerSpaced">
                                    <div class="itemLabelClearBoth">
                                        <b>{{:caste_value.nemesis.name}}</b>
                                    </div>
                                    <div class="itemLabelClear">
                                        Deaths:
                                    </div>
                                    <div class="itemContentSmallRight">
                                        {{:caste_value.nemesis.value}}
                                    </div>
                                </fieldset>
                            {{/if}}
                        </fieldset>
                    {{/props}}
                {{/if}}
            {{/if}}
        {{/if}}
    {{/if}}
</div>
